<div class="container">
  <div class="row">
    <h2 class="text-center">Shipping Address</h2>

    <swal
      #confirmBuy
      title='Are you sure?'
      type='warning'
      showCancelButton=true,
      confirmButtonColor='#3085d6'
      cancelButtonColor='#d33'
      confirmButtonText='Yes, buy!'
      cancelButtonText='No, cancel!'
      confirmButtonClass='btn btn-success'
      cancelButtonClass='btn btn-danger'
      buttonsStyling=false
      (confirm)="onConfirm()"
    ></swal>
    <swal #buySuccess title="Success" text="Buying process was successfully completed" type="success"></swal>
    <swal #buyError title="Error" text="Somethig go wrong. Please contact with our service" type="error"></swal>

    <div class="row form-group text-center" *ngIf="!useAnotherAddress">
      <h3>Default Address</h3>
      <p>Country: {{userAddress.country}}</p>
      <p>City: {{userAddress.city}}</p>
      <p>PostCode: {{userAddress.postCode}}</p>
      <p>Street: {{userAddress.street}}</p>
      <p>Name: {{userAddress.name}}</p>
      <p>Surname: {{userAddress.surname}}</p>

    </div>


    <div class="form-group" *ngIf="useAnotherAddress">
      <label>GOOGLE AUTOCOMPLETE LOCATION</label>
      <ng4geo-autocomplete [userSettings]="userSettings"
                           (componentCallback)="autoCompleteCallback1($event)"></ng4geo-autocomplete>

      <div>

      </div>
      <div *ngIf="addressInput">
        <span class="text-success" *ngIf="validAddress">Address Data Correct</span>
        <span class="text-danger" *ngIf="!validAddress">Address Data Invalid</span>
        <div class="form-group" *ngIf="validAddress">
          <p>Label: {{validatedAddress.label}}</p>
          <p>Country: {{validatedAddress.country}}</p>
          <p>State: {{validatedAddress.state}}</p>
          <p>County: {{validatedAddress.county}}</p>
          <p>City: {{validatedAddress.city}}</p>
          <p>District: {{validatedAddress.district}}</p>
          <p>Subdistrict: {{validatedAddress.subdistrict}}</p>
          <p>Street: {{validatedAddress.street}}</p>
          <p>PostalCode: {{validatedAddress.postalCode}}</p>
        </div>
      </div>
      <button class="btn btn-default" (click)="checkAddress()">Check Valid Data</button>
      <hr>
      <br>
    </div>
    <button class="btn btn-default" (click)="this.useAnotherAddress = !this.useAnotherAddress;"
            *ngIf="!useAnotherAddress">Use different address
    </button>
    <button class="btn btn-default"
            (click)="this.useAnotherAddress = !this.useAnotherAddress;"
            *ngIf="useAnotherAddress">Use default address
    </button>

    <form (ngSubmit)="onSubmit()" #f="ngForm">
      <div class="row text-center">
        <div class="row text-center">
          <h4>Select your supplier</h4>
          <div class="radio text-left" *ngFor="let supplier of suppliers">

            <label>
              <input
                type="radio"
                ngModel
                name="supplierS"
                [value]="supplier.name"
                #supplier2="ngModel"
                required
              >
              Supplier: {{supplier.name}} totalPrice: {{supplier.price}} $
            </label>
          </div>
          <!--<button class="btn btn-primary" type="submit" [disabled]="!form.valid && checkedAddress && validAddress">Buy-->
          <button
            class="btn btn-primary"
            type="submit"
            [disabled]="!validAddress && useAnotherAddress || !f.valid">Buy
          </button>
        </div>
      </div>
    </form>
  </div>

  <br><br><br>
</div>


