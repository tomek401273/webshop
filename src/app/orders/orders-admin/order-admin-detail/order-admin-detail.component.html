<div class="container">
  <h2 class="text-center">Detail informetion of order nr: {{order.id}}</h2>
  <hr>
  <div class="row ">

    <div class="col-md-2"></div>
    <div class="col-md-10">
      <div class="table text-justify line-height-200">
        <div class="col-md-12">
          <div class="col-md-6">
            <h3>Actual order Status</h3>
            <p>Total Value: {{order.totalValue}}</p>
            <p>Total Amount: {{order.totalAmount}}</p>
            <p>Bought Date: {{order.boughtDate}}</p>
            <p>Stratus status: {{order.status}}</p>
            <p><a href="#">Delivery link</a></p>
          </div>

          <div class="col-md-6">
            <h3>Shippin Address</h3>
            <p>Country: {{order.shippingAddressDto.country}}</p>
            <p>PostCode: {{order.shippingAddressDto.postalCode}} - {{order.shippingAddressDto.city}}</p>

            <p *ngIf="order.shippingAddressDto.street == null">Locality: {{order.shippingAddressDto.district}}</p>
            <p *ngIf="order.shippingAddressDto.street != null">Locality: {{order.shippingAddressDto.city}}</p>

            <p *ngIf="order.shippingAddressDto.street != null">Street: {{order.shippingAddressDto.street}}</p>
            <p>House: {{order.shippingAddressDto.house}}</p>
            <p *ngIf="order.shippingAddressDto.apartment !=0">Apartment: {{order.shippingAddressDto.apartment}}</p>
            <p>Name: {{order.shippingAddressDto.name}}</p>
            <p>Surname: {{order.shippingAddressDto.surname}}</p>
            <p>Supplier: {{order.shippingAddressDto.supplier}}</p>
            <p>State: {{order.shippingAddressDto.state}}</p>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div class="row">
    <div class="text-center ">
      <h3 class="order-status"><span class="label label-success ">{{order.status}}</span></h3>
      <!--<h3 class="order-status"><span class="label label-success " *ngIf="paid">{{order.status}}</span></h3>-->
      <button class="btn btn-primary" type="button" *ngIf="paid && !prepared && !delivered" (click)="onPrepared()"
              [disabled]="!allProductPacked">Prepared
        Order
      </button>

      <div *ngIf="prepared && !send">
        <button class="btn btn-primary" type="submit" (click)="onSend()" [disabled]="!link.valid"> Send Delivery
        </button>
        <input
          class="form-control"
          type="text"
          [(ngModel)]="linkDelivery"
          required
          pattern=".{8,}"
          #link="ngModel"
        >
      </div>
    </div>

    <br>
    <br>
    <br>
  </div>


  <div class="row">
    <h3 class="text-center">List ordered products</h3>
    <table class="table text-center table-striped">
      <thead>
      <tr>
        <td *ngIf="paid">Confirm</td>
        <td>name</td>
        <td>price</td>
        <td>amount</td>
        <td>value</td>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let productBoughts of order.productBoughts; let i = index">
        <td *ngIf="paid"><input type="checkbox"
                                (click)="onProductPrepared(i)"
        ></td>
        <td>{{productBoughts.product.title}}</td>
        <td>{{productBoughts.product.price}}</td>
        <td>{{productBoughts.amount}}</td>
        <td>{{productBoughts.amount*productBoughts.product.price}}</td>
      </tr>

      </tbody>
    </table>

  </div>

</div>
<swal #error title="Error" text="Something go wrong. Please contact with our service" type="error"></swal>
