<div class="container">
  <h2 class="text-center">Detail informetion of order nr: {{order.id}}</h2>
  <hr>
  <br>
  <br>
  <div class="row ">

    <div class="col-sm-2"></div>
    <div class="col-sm-10">
      <table class="table text-justify line-height-200">
        <thead>
        <td>
          <tr><h3>Actual order Status</h3></tr>
        </td>
        <td>
          <tr><h3>Shippin Address</h3></tr>
        </td>
        </thead>
        <tbody>
        <td>
          <tr>Total Value: {{order.totalValue}}</tr>
          <tr>Total Amount: {{order.totalAmount}}</tr>
          <tr>Bought Date: {{order.boughtDate}}</tr>
          <tr>Stratus status: {{order.status}}</tr>

          <tr><a href="#">Delivery link</a></tr>

        </td>
        <td>
          <tr>Country: {{order.shippingAddressDto.country}}</tr>
          <tr>PostCode: {{order.shippingAddressDto.postalCode}} - {{order.shippingAddressDto.city}}</tr>

          <tr *ngIf="order.shippingAddressDto.street == null">Locality: {{order.shippingAddressDto.district}}</tr>
          <tr *ngIf="order.shippingAddressDto.street != null">Locality: {{order.shippingAddressDto.city}}</tr>

          <tr *ngIf="order.shippingAddressDto.street != null">Street: {{order.shippingAddressDto.street}}</tr>
          <tr>House: {{order.shippingAddressDto.house}}</tr>
          <tr *ngIf="order.shippingAddressDto.apartment !=0">Apartment: {{order.shippingAddressDto.apartment}}</tr>
          <tr>Name: {{order.shippingAddressDto.name}}</tr>
          <tr>Surname: {{order.shippingAddressDto.surname}}</tr>
          <tr>Supplier: {{order.shippingAddressDto.supplier}}</tr>
          <tr>State: {{order.shippingAddressDto.state}}</tr>
        </td>
        </tbody>
      </table>
    </div>
    <br>
    <br>


  </div>


  <div class="row">

    <div class="text-center">
      <h3><span class="label label-warning" *ngIf="!paid">Order is waiting for confirm transaction</span></h3>
      <h3><span class="label label-success" *ngIf="paid">{{order.status}}</span></h3>
      <button class="btn btn-primary" type="button" *ngIf="paid && !prepared && !delivered" (click)="onPrepared()"
              [disabled]="!allProductPacked">Prepared
        Order
      </button>

      <div *ngIf="prepared && !send">
        <button class="btn btn-primary" type="submit" (click)="onSend()" [disabled]="!link.valid"> Send Delivery
        </button>
        <input
          class="form-control"
          type="text"
          [(ngModel)]="linkDelivery"
          required
          pattern=".{8,}"
          #link="ngModel"
        >
      </div>


    </div>

    <br>
    <br>
    <br>

    <h3 class="text-center">List ordered products</h3>
    <table class="table text-center table-striped">
      <thead>
      <tr>
        <td *ngIf="paid">Confirm</td>
        <td>name</td>
        <td>price</td>
        <td>amount</td>
        <td>value</td>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let productBoughts of order.productBoughts; let i = index">
        <td *ngIf="paid"><input type="checkbox"
                                (click)="onProductPrepared(i)"
        ></td>
        <td>{{productBoughts.product.title}}</td>
        <td>{{productBoughts.product.price}}</td>
        <td>{{productBoughts.amount}}</td>
        <td>{{productBoughts.amount*productBoughts.product.price}}</td>
      </tr>

      </tbody>
    </table>

  </div>

</div>
<swal #error title="Error" text="Something go wrong. Please contact with our service" type="error"></swal>
